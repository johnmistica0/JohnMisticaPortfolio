<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="./css/styling-photo.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href=' https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<script src="https://kit.fontawesome.com/a9df5150a3.js" crossorigin="anonymous"></script>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-analytics.js";
  import { getFirestore, collection, addDoc, doc, getDocs } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-firestore.js";
  import { getStorage, ref, getDownloadURL, listAll} from "https://www.gstatic.com/firebasejs/9.5.0/firebase-storage.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyA4CgolxvVbXd2pAwh2wyDMIxaONB9lGVQ",
    authDomain: "portfoliopage-6756e.firebaseapp.com",
    projectId: "portfoliopage-6756e",
    storageBucket: "portfoliopage-6756e.appspot.com",
    messagingSenderId: "175945747255",
    appId: "1:175945747255:web:88b061c0d531a040ae68b2",
    measurementId: "G-2Z7YMCYSV8"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getFirestore();
  const storage = getStorage();

  const starsRef = ref(storage, 'photo1.jpg');

  const listRef = ref(storage);


  let grid = document.getElementById('grid');

  // Find all the prefixes and items.
  listAll(listRef)
  .then((res) => {
    res.items.forEach((itemRef) => {
      // All the items under listRef.
      getDownloadURL(itemRef)
      .then((url) => {
        let img = document.createElement('img');
        img.setAttribute('src', url);
        grid.appendChild(img);
      });
      
    });
  }).catch((error) => {
    // Uh-oh, an error occurred!
  });
  
  // let items = [];
  // const querySnapshot = await getDocs(collection(db, "users"));
  // querySnapshot.forEach((doc) => {
  //   items.push(doc.data().first);
  // });
  // console.log(items.length)

  
</script>


</head>
<body>
<div class="container">
  <div id = "bgimage"></div>
  <div class="grid-container" id='grid'>
  </div>
</div>

</body>
</html>
